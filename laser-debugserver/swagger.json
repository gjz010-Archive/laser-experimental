{"openapi":"3.0.0","info":{"version":"1.0.0-oas3","title":"Laser Platform","description":"The user-end API for using Laser, the function-as-a-service."},"security":[{"bearerAuth":[]}],"paths":{"/function_bundles":{"get":{"tags":["function_bundle"],"operationId":"listBundles","summary":"Get information about the function bundle.","description":"Get information about the function bundle.","responses":{"200":{"description":"Ok.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FunctionBundle"}}}}}}},"post":{"tags":["function_bundle"],"summary":"Add a function bundle.","operationId":"addFunctionBundle","responses":{"201":{"description":"Created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FunctionBundle"}}}},"409":{"description":"Conflict."}},"requestBody":{"$ref":"#/components/requestBodies/FunctionBundle"}}},"/function_bundles/{bundle_id}":{"get":{"tags":["function_bundle"],"operationId":"getFunctionBundle","summary":"Get information about the function bundle.","description":"Get information about the function bundle.","parameters":[{"in":"path","name":"bundle_id","required":true,"description":"The id of the function bundle.","schema":{"type":"string"}}],"responses":{"200":{"description":"Ok.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FunctionBundle"}}}},"404":{"description":"Not found."}}},"put":{"tags":["function_bundle"],"operationId":"putFunctionBundle","summary":"Modify the function bundle.","parameters":[{"in":"path","name":"bundle_id","required":true,"description":"The id of the function bundle.","schema":{"type":"string"}}],"responses":{"200":{"description":"Ok.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FunctionBundle"}}}},"404":{"description":"Not found."}},"requestBody":{"$ref":"#/components/requestBodies/FunctionBundle"}},"delete":{"tags":["function_bundle"],"operationId":"deleteFunctionBundle","summary":"Delete the bundle.","description":"Delete the bundle.","parameters":[{"in":"path","name":"bundle_id","required":true,"description":"The id of the function bundle.","schema":{"type":"string"}}],"responses":{"204":{"description":"No content."}}}},"/function_bundles/{bundle_id}/bundle":{"get":{"tags":["function_bundle"],"operationId":"downloadFunctionBundle","summary":"Get the download link for the function bundle.","description":"Get the download link about the function bundle.","parameters":[{"in":"path","name":"bundle_id","required":true,"description":"The id of the function bundle.","schema":{"type":"string"}}],"responses":{"200":{"description":"Ok.","content":{"application/json":{"schema":{"type":"object","properties":{"download_url":{"type":"string","example":"https://s3.laser.gjz010.com/my_function","description":"The download url"}}}}}},"404":{"description":"Not found."}}},"put":{"tags":["function_bundle"],"operationId":"uploadFunctionBundle","summary":"Get the upload link for the function bundle.","description":"Get the upload link about the function bundle.","parameters":[{"in":"path","name":"bundle_id","required":true,"description":"The id of the function bundle.","schema":{"type":"string"}}],"responses":{"200":{"description":"Ok.","content":{"application/json":{"schema":{"type":"object","properties":{"upload_url":{"type":"string","example":"https://s3.laser.gjz010.com/my_function","description":"The upload url"}}}}}},"404":{"description":"Not found."}}}},"/function_bundles/{bundle_id}/instances":{"delete":{"tags":["function_bundle"],"operationId":"flushFunctionBundleInstances","summary":"Flush all running instances of this function bundle.","description":"Flush all running instances of this function bundle.","parameters":[{"in":"path","name":"bundle_id","required":true,"description":"The id of the function bundle.","schema":{"type":"string"}}],"responses":{"204":{"description":"No content."},"404":{"description":"Not found."}}}},"/apis":{"get":{"tags":["api_definition"],"summary":"Get all APIs visible.","operationId":"listAPIs","responses":{"200":{"description":"Ok.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/API"}}}}}}},"post":{"tags":["api_definition"],"summary":"Add an API definition.","operationId":"createAPI","responses":{"201":{"description":"Created."},"409":{"description":"Conflict."}}}},"/apis/{api_id}":{"get":{"tags":["api_definition"],"summary":"Get API by ID","operationId":"getAPI","parameters":[{"in":"path","name":"api_id","required":true,"description":"The id of the api.","schema":{"type":"string"}}],"responses":{"200":{"description":"Ok."}}},"put":{"tags":["api_definition"],"summary":"Modify API","operationId":"modifyAPI","parameters":[{"in":"path","name":"api_id","required":true,"description":"The id of the api.","schema":{"type":"string"}}],"responses":{"200":{"description":"Ok."}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/API"}}}}},"delete":{"tags":["api_definition"],"summary":"Delete API by ID","operationId":"deleteAPI","parameters":[{"in":"path","name":"api_id","required":true,"description":"The id of the api.","schema":{"type":"string"}}],"responses":{"204":{"description":"No content."}}}},"/user":{"get":{"tags":["user"],"summary":"Get user information","operationId":"getMe","responses":{"200":{"description":"The information of myself.","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"The user UUID."},"name":{"type":"string","description":"The name."}}}}}}}}},"/register":{"post":{"tags":["user"],"summary":"Get user information","operationId":"register","security":[],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"The user name."},"password":{"type":"string","description":"The user password."}}}}}},"responses":{"200":{"description":"The information of myself.","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"The user UUID."},"name":{"type":"string","description":"The name."}}}}}},"409":{"description":"Conflict."}}}},"/login":{"post":{"tags":["user"],"summary":"Login as user.","operationId":"login","security":[],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"The user name."},"password":{"type":"string","description":"The user password."}}}}}},"responses":{"200":{"description":"The information of myself.","content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string","description":"The bearer token for user."}}}}}},"401":{"description":"Login failed."}}}}},"servers":[{"url":"http://192.168.192.3:7654/"}],"components":{"requestBodies":{"FunctionBundle":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FunctionBundle"}}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}},"schemas":{"FunctionBundle":{"properties":{"id":{"type":"string"},"name":{"type":"string"}},"required":["id","name"]},"API":{"properties":{"id":{"type":"string","example":"3e03de19-d76d-460a-b2a7-d956ddc2dee4"},"name":{"type":"string","example":"petstore"},"spec":{"type":"string","description":"OpenAPI specification with Laser metadata for the API.","example":"{}"}},"required":["id","name"]}}}}